<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Boda de Iluminada & George</title>
  <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
  <header>
    <div class="header-content">
      <h1>Iluminada & George</h1>
      <p>Nos casamos</p>
      <div class="wedding-date">
        <i class="fas fa-calendar-alt"></i>
        <span>6 de Junio, 2026</span>
      </div>
    </div>
  </header>

  <main>
    <section class="hero-section fade-in-up">
      <div class="hero-content">
        <h2>¡Te invitamos a celebrar nuestro amor!</h2>
        <p class="hero-description">
          Después de 5 años de amor y aventuras juntos, hemos decidido dar el paso más importante de nuestras vidas. 
          Queremos que formes parte de este momento tan especial para Iluminada y George.
        </p>
        <div class="countdown-container">
          <div class="countdown-item">
            <span class="countdown-number" id="days">00</span>
            <span class="countdown-label">Días</span>
          </div>
          <div class="countdown-item">
            <span class="countdown-number" id="hours">00</span>
            <span class="countdown-label">Horas</span>
          </div>
          <div class="countdown-item">
            <span class="countdown-number" id="minutes">00</span>
            <span class="countdown-label">Minutos</span>
          </div>
          <div class="countdown-item">
            <span class="countdown-number" id="seconds">00</span>
            <span class="countdown-label">Segundos</span>
          </div>
        </div>
      </div>
    </section>

    <section class="info-section fade-in-up">
      <div class="info-grid" id="eventosGrid">
        <!-- Los eventos se cargarán dinámicamente aquí -->
        <div class="loading-events">
          <i class="fas fa-spinner fa-spin"></i>
          <p>Cargando eventos...</p>
        </div>
      </div>
    </section>

    <section class="dress-code-section fade-in-up">
      <h3><i class="fas fa-tshirt"></i> Dress Code</h3>
      <p>Elegante Sport</p>
      <div class="dress-code-tips">
        <div class="tip">
          <i class="fas fa-check"></i>
          <span>Traje o vestido elegante</span>
        </div>
        <div class="tip">
          <i class="fas fa-check"></i>
          <span>Colores suaves y elegantes</span>
        </div>
        <div class="tip">
          <i class="fas fa-check"></i>
          <span>Zapatos cómodos para bailar</span>
        </div>
      </div>
    </section>

    <section class="actions-section fade-in-up">
      <h3>Acceso a la web de la boda</h3>
      <div class="button-grid">
        <button onclick="window.location.href='login.html'" class="primary-action">
          <i class="fas fa-user"></i>
          Acceso con email
        </button>
        <button onclick="window.location.href='admin-login.html'" class="secondary-action">
          <i class="fas fa-cog"></i>
          Panel administrador
        </button>
      </div>
    </section>

    <section class="contact-section fade-in-up">
      <h3><i class="fas fa-phone"></i> Contacto</h3>
      <p>Si tienes alguna pregunta o necesitas información adicional, no dudes en contactar a Iluminada y George:</p>
      <div class="contact-info">
        <div class="contact-item">
          <i class="fas fa-envelope"></i>
          <span>rsvp@iluminada-y-george.com</span>
        </div>
        <div class="contact-item">
          <i class="fas fa-phone"></i>
          <span>+34 722 709 225</span>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="footer-content">
      <p>&copy; 2026 Boda de Iluminada & George</p>
      <p>Hecho con <i class="fas fa-heart" style="color: #e74c3c;"></i> para celebrar nuestro amor</p>
    </div>
  </footer>

  <script>
    // Contador regresivo
    function updateCountdown() {
      const weddingDate = new Date('2026-06-06T12:00:00').getTime();
      const now = new Date().getTime();
      const distance = weddingDate - now;

      const days = Math.floor(distance / (1000 * 60 * 60 * 24));
      const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((distance % (1000 * 60)) / 1000);

      document.getElementById('days').textContent = days.toString().padStart(2, '0');
      document.getElementById('hours').textContent = hours.toString().padStart(2, '0');
      document.getElementById('minutes').textContent = minutes.toString().padStart(2, '0');
      document.getElementById('seconds').textContent = seconds.toString().padStart(2, '0');

      if (distance < 0) {
        document.querySelector('.countdown-container').innerHTML = '<h3>¡Hoy es el gran día!</h3>';
      }
    }

    // Cargar eventos dinámicamente
    async function loadEventos() {
      try {
        const response = await fetch('/api/eventos');
        if (response.ok) {
          const data = await response.json();
          renderEventos(data.eventos || []);
        } else {
          console.error('Error cargando eventos:', response.statusText);
          renderEventos([]);
        }
      } catch (error) {
        console.error('Error cargando eventos:', error);
        renderEventos([]);
      }
    }

    // Renderizar eventos en la página
    function renderEventos(eventos) {
      const eventosGrid = document.getElementById('eventosGrid');
      
      if (eventos.length === 0) {
        eventosGrid.innerHTML = `
          <div class="info-card">
            <div class="info-icon">
              <i class="fas fa-calendar-plus"></i>
            </div>
            <h3>Eventos</h3>
            <p>Los eventos de la boda se configurarán próximamente.</p>
          </div>
        `;
        return;
      }

      // Mostrar solo los primeros 3 eventos principales
      const eventosPrincipales = eventos.slice(0, 3);
      
      eventosGrid.innerHTML = eventosPrincipales.map(evento => `
        <div class="info-card">
          <div class="info-icon">
            <i class="${evento.icono}"></i>
          </div>
          <h3>${evento.titulo}</h3>
          <p><strong>${evento.lugar}</strong></p>
          <p>${evento.direccion}</p>
          <p>${evento.ciudad}</p>
          <p class="time">
            <i class="fas fa-clock"></i> 
            ${formatDate(evento.fecha)} - ${evento.horaInicio} a ${evento.horaFin}
          </p>
          <p class="event-description">${evento.descripcion}</p>
          ${evento.subeventos && evento.subeventos.length > 0 ? `
            <div class="subeventos-preview">
              <h4>Actividades:</h4>
              <ul>
                ${evento.subeventos.slice(0, 3).map(subevento => `
                  <li>
                    <i class="${subevento.icono}"></i>
                    ${subevento.titulo} (${subevento.horaInicio})
                  </li>
                `).join('')}
                ${evento.subeventos.length > 3 ? `<li>... y ${evento.subeventos.length - 3} más</li>` : ''}
              </ul>
            </div>
          ` : ''}
          <button class="secondary" onclick="openMap(${evento.coordenadas.lat}, ${evento.coordenadas.lng})">
            <i class="fas fa-map"></i> Ver en mapa
          </button>
        </div>
      `).join('');
    }

    // Formatear fecha
    function formatDate(dateString) {
      const date = new Date(dateString);
      return date.toLocaleDateString('es-ES', {
        weekday: 'long',
        year: 'numeric',
        month: 'long',
        day: 'numeric'
      });
    }

    // Función para abrir mapa
    function openMap(lat, lng) {
      const url = `https://www.google.com/maps?q=${lat},${lng}`;
      window.open(url, '_blank');
    }

    // Actualizar contador cada segundo
    setInterval(updateCountdown, 1000);
    updateCountdown();

    // Cargar eventos al cargar la página
    loadEventos();

    // Animaciones al hacer scroll
    const observerOptions = {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.style.opacity = '1';
          entry.target.style.transform = 'translateY(0)';
        }
      });
    }, observerOptions);

    // Observar elementos con animación
    document.querySelectorAll('.fade-in-up').forEach(el => {
      el.style.opacity = '0';
      el.style.transform = 'translateY(30px)';
      el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
      observer.observe(el);
    });
  </script>
</body>
</html>
